<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>document</title>
    <!-- <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    /> -->

    <link href="fontawesome1/css/all.min.css" rel="stylesheet" />
    <link href="css/moneyy.css" rel="stylesheet" />
  </head>
  <body>
    <nav class="header-name align-box-center">
      <h3>thismoodthatmusic</h3>
    </nav>
    <div class="header-title align-box-center">
      <h1>"No cap, these tunes are about to hit different for you."</h1>
      <p class="font-menu-sm">"Whatâ€™s the mood?"</p>
      <div>
        <select name="genre" id="">
          <option value="">Jazz</option>
          <option value="">Hiphop</option>
          <option value="">ROCK</option>
          <option value="">POP</option>
        </select>
      </div>
    </div>
    <div class="main-menu align-box-center">
      <div>
        <button
          class="bt-main"
          data-mood="Beamin'"
          data-url="http://127.0.0.1:5500/OTHER/beamin.html"
        >
          <span>ğŸ˜ Beamin'</span>
        </button>
      </div>
      <div>
        <button class="bt-main">ğŸ¤” Reflectinâ€™</button>
      </div>
      <div>
        <button class="bt-main"><span>ğŸ˜¢ Gloomin'</span></button>
      </div>
      <div>
        <button class="bt-main"><span>ğŸ¤£ Crackinâ€™</span></button>
      </div>
      <div>
        <button class="bt-main"><span>ğŸ˜¶ Blueinâ€™</span></button>
      </div>
      <div>
        <button class="bt-main"><span>ğŸ¤© Dreamin'</span></button>
      </div>
      <div>
        <button class="bt-main">
          <span
            ><img
              src="https://cdn3.emoji.gg/emojis/6124-chillguy.png"
              width="22px"
              height="22px"
              alt="ChillGuy"
            />
            Vibinâ€™</span
          >
        </button>
      </div>
      <div>
        <button class="bt-main"><span>ğŸ˜ Lovinâ€™</span></button>
      </div>
      <div>
        <button class="bt-main"><span>ğŸ¤¨ Freakinâ€™</span></button>
      </div>
      <div>
        <button class="bt-main"><span>ğŸ¤¤ horninâ€™</span></button>
      </div>
      <div>
        <button class="bt-main"><span>ğŸ¥± Snoozinâ€™</span></button>
      </div>
      <div>
        <button class="bt-main"><span>ğŸ”¥ Raginâ€™</span></button>
      </div>
      <div>
        <button class="bt-main"><span>ğŸ˜¨ Spookinâ€™</span></button>
      </div>
      <div>
        <button class="bt-main"><span>ğŸ˜” Empty..</span></button>
      </div>
      <div>
        <button class="bt-main"><span>ğŸ˜¬ Stressin</span></button>
      </div>
      <div>
        <button class="bt-main"><span>ğŸ¤“ Deepinâ€™</span></button>
      </div>
    </div>
    <script>
      const buttons = document.querySelectorAll(".bt-main");

      buttons.forEach((button) => {
        button.addEventListener("click", async () => {
          const mood = button.getAttribute("data-mood"); // ë²„íŠ¼ì—ì„œ ê¸°ë¶„ ê°€ì ¸ì˜¤ê¸°
          const url = button.getAttribute("data-url"); // ë²„íŠ¼ì—ì„œ URL ê°€ì ¸ì˜¤ê¸°

          // OpenAI API í˜¸ì¶œ (í•„ìš”í•˜ë©´ ê²°ê³¼ë¥¼ URLì— ë„˜ê¸¸ ìˆ˜ë„ ìˆìŒ)
          const apiKey =
            "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"; // OpenAI API í‚¤
          const apiUrl = "https://api.openai.com/v1/chat/completions";

          const headers = {
            "Content-Type": "application/json",
            Authorization: `Bearer ${apiKey}`,
          };

          const body = JSON.stringify({
            model: "gpt-4",
            messages: [
              {
                role: "system",
                content: "You are a helpful assistant that recommends songs.",
              },
              {
                role: "user",
                content: `Recommend 1 songs for the mood: ${mood}`,
              },
            ],
            max_tokens: 100,
          });

          try {
            const response = await fetch(apiUrl, {
              method: "POST",
              headers: headers,
              body: body,
            });

            const data = await response.json();
            const recommendations = data.choices[0].message.content;

            // URLë¡œ ì´ë™í•˜ê¸° ì „ì— ì¶”ì²œë°›ì€ ë…¸ë˜ë¥¼ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬
            window.location.href = `${url}?recommendations=${encodeURIComponent(
              recommendations
            )}`;
          } catch (error) {
            console.error(error);
            alert("ë…¸ë˜ ì¶”ì²œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”!");
          }
        });
      });
    </script>
  </body>
</html>
